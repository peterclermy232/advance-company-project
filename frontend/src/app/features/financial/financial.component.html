<div class="flex h-screen bg-gray-50 overflow-hidden">
  <app-sidebar [isOpen]="sidebarOpen"></app-sidebar>
  
  <div class="flex-1 flex flex-col overflow-hidden">
    <app-header (toggleSidebar)="toggleSidebar()"></app-header>
    
    <main class="flex-1 overflow-y-auto p-6">
      <app-loading *ngIf="isLoading"></app-loading>
      
      <div *ngIf="!isLoading" class="space-y-6">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-2xl font-bold text-gray-800">Deposit Approvals</h2>
            <p class="text-sm text-gray-600 mt-1">Review and approve member deposits</p>
          </div>
          <div class="bg-blue-50 px-4 py-2 rounded-lg">
            <p class="text-sm text-gray-600">Pending Approvals</p>
            <p class="text-2xl font-bold text-blue-600">{{ pendingDeposits.length }}</p>
          </div>
        </div>

        <!-- Deposit Table Component -->
        <app-deposit-table
          [deposits]="filteredDeposits"
          [filterStatus]="filterStatus"
          [isAdmin]="isAdmin"
          [pendingCount]="pendingDeposits.length"
          [approvedCount]="approvedDeposits.length"
          [rejectedCount]="rejectedDeposits.length"
          (approve)="handleApprove($event)"
          (reject)="handleReject($event)"
          (filterChange)="onFilterChange($event)">
        </app-deposit-table>
      </div>
    </main>
  </div>
</div>

<!-- Approval Modal Component -->
<app-deposit-approval-modal
  [isOpen]="showApproveModal"
  [deposit]="selectedDeposit"
  [isProcessing]="isProcessing"
  (confirm)="confirmApprove()"
  (cancel)="closeModals()">
</app-deposit-approval-modal>

<!-- Rejection Modal Component -->
<app-deposit-rejection-modal
  [isOpen]="showRejectModal"
  [deposit]="selectedDeposit"
  [isProcessing]="isProcessing"
  (confirm)="confirmReject($event)"
  (cancel)="closeModals()">
</app-deposit-rejection-modal>